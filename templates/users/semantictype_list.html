{% extends '_base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% block content %}
{% include 'audit_menu.html' %}
<h3 class="text-center">Edit Semantic Types</h3>
    <form method="GET">
      <label>Filter with a Type name.</label>
      {% csrf_token %}
      {{ filter.form | crispy }}
      <br/>
      <input style="inline-block" type="submit" class="btn btn-primary" value="Search"> 
      <a href="{% url 'Audit:type_create' %}" class="btn btn-primary" style="color:white;text-decoration:none;" role="button">Create Type</a>
      <h5 class="text-end">Simularity:{{simularity}}</h5>
    </form>
<table class="table table-striped table-hover" style="table-layout: fixed; word-wrap: break-word;">
  <thead>
    <tr>
      <th>#</th>
      <th>Semantic Types:</th>
      <th>Verified:</th>
    </tr>
      </thead>
  <tbody>
    <tr>
    {% for object in filter.qs %}
    <td>{{ forloop.counter }}</td>
    <td><a href="{% url 'Audit:type_update_list' object.id %}">{{ object.name }}</a></td>
    <td>{{ object.verified }}</td>
    <td><a href="{% url 'Audit:type_update_list' object.pk %}" class="btn btn-success" role="button">Update</td>
    <!-- A Hidden form to allow faster verification -->
	<form method="POST" action="/Audit/Type/{{object.id}}/update/">
          {% csrf_token %}
          <input type="hidden" name="verified" value="true" />
          <input type="hidden" name="name" value="{{object.name}}" />
          <td><button type="submit" class="btn btn-warning">Verify</button></td>
        </form>

       <!-- A Hidden form to allow faster unverification -->
        <form method="POST" action="/Audit/Type/{{object.id}}/update/">
          {% csrf_token %}
          <input type="hidden" name="verified" value="false" />
          <input type="hidden" name="name" value="{{object.name}}" />
          <td><button type="submit" class="btn btn-warning">UnVerify</button></td>
       </form>
    <td><a href="{% url 'Audit:type_delete' object.pk %}" class="btn btn-danger" role="button">Delete</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock content %}
