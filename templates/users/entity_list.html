{% extends '_base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% block content %}
{% include 'audit_menu.html' %}
<div class="container">
    <h3 class="text-center">Edit Entities</h3>
    <form method="GET">
      <label>Filter with an Entity name.</label>
      {% csrf_token %}
      {{ filter.form | crispy }}
      <br/>
      <input type="submit" class="btn btn-primary" value="Search"> 
    <a href="{% url 'Audit:entity_create' %}" class="btn btn-primary" role="button">Create Entity</a>
    </form>

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>#</th>
      <th>Entites:</th>
      <th>Types:</th>
    </tr>
      </thead>
  <tbody>
    <tr>
    {% for object in filter.qs %}
    <td>{{ forloop.counter }}</td>
    <td>{{ object.name }}</td>
    <td>{% for object in object.semantic_type.all %}
        {{object.name}}
    {% endfor %}</td>
    <td><a href="{% url 'Audit:entity_update_list' object.pk %}" class="btn btn-success role="button">Update</td>
    <td><a href="{% url 'Audit:entity_delete' object.pk %}" class="btn btn-danger role="button">Delete</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
</div>
{% endblock content %}
