{% extends '_base.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% block content %}
{% include 'audit_menu.html' %}
<div class="container">
    <h3 class="text-center">Edit Entities</h3>
    <h6>Click on a type to change the name of the type for all entities that contain it. Click on update
    to change the name of an entity or to change its types. Changes made to the entity here will
    carry over to the triples that contain them.</h6>
    <br/>
    <form method="GET">
      <label>Filter with an Entity name.</label>
      {% csrf_token %}
      {{ filter.form | crispy }}
      <br/>
      <input type="submit" class="btn btn-primary" value="Search"> 
      <a href="{% url 'Audit:entity_create' %}" class="btn btn-primary" style="color:white;text-decoration:none;" role="button">Create Entity</a>
      <h5 class="text-end">Simularity:{{simularity}}</h5>
    </form>

<table class="table table-striped table-hover">
  <thead>
    <tr>
      <th>#</th>
      <th>Entites:</th>
      <th>Types:</th>
      <th>Verified:</th>
    </tr>
      </thead>
  <tbody>
    <tr>
    {% for object in filter.qs %}
    <td>{{ forloop.counter }}</td>
    <td>{{ object.name }}</td>
    <td>{% for object in object.semantic_type.all %}
      <a href="{% url 'Audit:type_update_list' object.pk %}">{{object.name}}</a>
    {% endfor %}</td>
    <td>{{ object.verified }}</td>
    <td><a href="{% url 'Audit:entity_update_list' object.pk %}" class="btn btn-success role="button">Update</td>
    <td><a href="{% url 'Audit:entity_delete' object.pk %}" class="btn btn-danger role="button">Delete<a/></td>
    </tr>
    {% endfor %}
  </tbody>
</table>
</div>
{% endblock content %}
